package records;

import java.io.File;
import java.io.Serializable;

public class FileRecord implements Serializable {

    private static final long serialVersionUID = 6529685098267757690L;
    private String name;
    private String newName;
    private String path;
    private String time;
    private EventType type;
    private String hash;
    private String algorithm;
    private static FileRecord synWaitrecord;
    private static FileRecord synStoprecord;
    private static FileRecord sendBlocksrecord;
    private static FileRecord receiveBlocksrecord;

    //------------------------------------------------
    public FileRecord(EventType type) {
        this.type = type;
    }

    public static FileRecord getSynWaitingRecord() {
        if (synWaitrecord == null) {
            synWaitrecord = new FileRecord(EventType.wait);
            return synWaitrecord;
        } else {
            return synWaitrecord;
        }
    }

    public static FileRecord getSynStopRecord() {
        if (synStoprecord == null) {
            synStoprecord = new FileRecord(EventType.stopWait);
            return synStoprecord;
        } else {
            return synStoprecord;
        }
    }

    public static FileRecord getSendBlocksRecord(File file) {
        if (sendBlocksrecord == null) {
            sendBlocksrecord = new FileRecord(EventType.sendBlocks);
            sendBlocksrecord.setName(file.getName());
            return sendBlocksrecord;
        } else {

            return sendBlocksrecord;
        }
    }

    public static FileRecord getReceiveBlocksRecord(File file) {
        if (receiveBlocksrecord == null) {
            receiveBlocksrecord = new FileRecord(EventType.receiveBlocks);
            receiveBlocksrecord.setName(file.getName());
            return receiveBlocksrecord;
        } else {

            return receiveBlocksrecord;
        }
    }

    //------------------------------------------------
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getNewName() {
        return newName;
    }

    public void setNewName(String newName) {
        this.newName = newName;
    }

    public String getPath() {
        return path;
    }

    public void setPath(String path) {
        this.path = path;
    }

    public String getTime() {
        return time;
    }

    public void setTime(String time) {
        this.time = time;
    }

    public EventType getType() {
        return type;
    }

    public void setType(EventType type) {
        this.type = type;
    }

    public String getHash() {
        return hash;
    }

    public void setHash(String hash) {
        this.hash = hash;
    }

    public String getAlgorithm() {
        return algorithm;
    }

    @Override
    public String toString() {
        return "FileRecord{\n" + " name=" + name + ",\n newName=" + newName + ",\n path=" + path
                + ",\n time=" + time + ",\n eventType="
                + type + ",\n hash=" + hash
                + ",\n algorithm=" + algorithm + "\n}";
    }

    public String toMsg() {
        if (type == EventType.rename) {
            return type + " : " + name + "->" + newName;
        } else {
            return type + " : " + name;
        }
    }
}
